/* src/css/style.css */

/* Define color palette and fonts */
:root {
  --color-primary: #283C50;    /* Dark Blue-Gray */
  --color-secondary: #417293; /* Medium Blue */
  --color-accent: #78B09A;    /* Muted Green */
  --color-background: #FFFFFF; /* White */
  --color-light-gray: #F0F0F0; /* Light Gray */
  --color-text: var(--color-primary);
  --color-text-light: #555555;

  /* Example Fonts: Replace 'Lato' or 'Merriweather' if you choose others */
  --font-primary: 'Lato', sans-serif;
  --font-secondary: 'Merriweather', serif; /* Optional secondary font */

  --content-max-width: 1100px; /* Max width for centered content */
  --spacing-unit: 1rem; /* Base unit for margins/padding (e.g., 16px) */

  /* Define gaps based on spacing unit for consistency */
  --hero-gap: var(--spacing-unit); /* Gap for hero section grid */
  --grid-gap: calc(var(--spacing-unit) * 2); /* Gap for main post grid */
}

/* --- Basic Reset and Body Styling --- */
body {
  margin: 0;
  font-family: var(--font-primary);
  color: var(--color-text);
  background-color: var(--color-background);
  line-height: 1.6;
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-primary); /* Or adjust if using secondary font */
  color: var(--color-primary);
  margin-top: calc(var(--spacing-unit) * 1.5);
  margin-bottom: calc(var(--spacing-unit) * 0.5);
  line-height: 1.2;
}

p {
  margin-top: 0;
  margin-bottom: var(--spacing-unit);
}

a {
  color: var(--color-secondary);
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

img {
  max-width: 100%;
  height: auto;
  display: block; /* Remove extra space below images */
}

/* --- Layout & Structure --- */
.container {
  max-width: var(--content-max-width);
  margin-left: auto;
  margin-right: auto;
  padding-left: calc(var(--spacing-unit) * 1.5);
  padding-right: calc(var(--spacing-unit) * 1.5);
}

/* --- Header Styling --- */
.site-header {
    padding: var(--spacing-unit) 0;
    border-bottom: 1px solid var(--color-light-gray);
    margin-bottom: calc(var(--spacing-unit) * 2);
}

.site-header .container {
    display: flex;
    align-items: center;
    justify-content: space-between; /* Adjust alignment as needed */
}

.logo img {
    max-height: 75px;
    width: auto;
}

/* --- Basic Navigation Styling --- */
.main-nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    gap: var(--spacing-unit); /* Spacing between nav items */
}

.main-nav a {
    color: var(--color-primary);
    font-weight: bold;
    text-decoration: none;
}
.main-nav a:hover,
.main-nav a:focus {
    color: var(--color-secondary);
    text-decoration: underline;
}

/* --- Footer Styling --- */
.site-footer {
    margin-top: calc(var(--spacing-unit) * 3);
    padding: calc(var(--spacing-unit) * 1.5) 0;
    border-top: 1px solid var(--color-light-gray);
    text-align: center;
    font-size: 0.9em;
    color: var(--color-text-light);
}

/* ========================================================== */
/* START: Hero Section Layout Styles (Incorporated from Step 3) */
/* ========================================================== */

.hero-layout {
  display: grid;
  /* Adjust column fractions for desired look: 5 columns, center wider */
  grid-template-columns: 1fr 1fr 1.5fr 1fr 1fr; /* Example: Center is 1.5x width of sides */
  /* Or use fixed widths + fr units if needed */
  gap: var(--hero-gap);
  align-items: start; /* Align items to the top */
  margin-bottom: var(--hero-gap); /* Space before the separator */
}

/* Grouping containers (optional but can help structure) */
.hero-layout__left,
.hero-layout__right {
  /* Span 2 grid columns */
  grid-column: span 2;
  display: flex;
  flex-direction: column;
  gap: var(--hero-gap); /* Vertical space between the two posts */
}

.hero-layout__center {
  /* Span the central column (column 3) */
  grid-column: 3 / 4;
  position: relative; /* Needed for positioning pseudo-element borders */
  /* Add padding to make space for the border lines */
  padding-left: var(--hero-gap);
  padding-right: var(--hero-gap);
}

/* Vertical Separator Lines for Center Column */
.hero-layout__center::before,
.hero-layout__center::after {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  width: 1px;
  background-color: var(--color-light-gray); /* Use theme color */
}

.hero-layout__center::before {
  left: 0; /* Position left border */
}

.hero-layout__center::after {
  right: 0; /* Position right border */
}

/* Base styles for individual posts in the hero section */
.hero-post {
  /* Add common styling if needed, like background or border */
}

/* Ensure hero post links cover the entire card */
.hero-post > a {
    display: block;
    text-decoration: none;
    color: inherit;
}
.hero-post > a:hover {
    text-decoration: none; /* Prevent underline on card hover if desired */
    opacity: 0.9; /* Example hover effect */
}

/* Styles specific to smaller side posts */
.hero-post--small {
  /* Inherit styles from your post-card.njk or define specific overrides */
}
.hero-post--small img {
   /* Define aspect ratio or max-height for consistency */
   aspect-ratio: 4 / 3; /* Example */
   object-fit: cover;
   width: 100%;
   margin-bottom: calc(var(--spacing-unit) * 0.5); /* Space below image */
}
.hero-post--small h3 { /* Assuming title is h3 in the partial */
   font-size: 1rem;
   margin-top: 0;
   /* Add other title styles */
}


/* Styles specific to the large central post */
.hero-post--large {
   /* Inherit styles from your post-card.njk or define specific overrides */
}
.hero-post--large img {
   aspect-ratio: 16 / 9; /* Wider aspect ratio for featured post */
   object-fit: cover;
   width: 100%;
   margin-bottom: calc(var(--spacing-unit) * 0.75); /* Space below image */
}
.hero-post--large h2 { /* Assuming title is h2 in the partial */
   font-size: 1.5rem; /* Larger font size */
   margin-top: 0;
   /* Add other title styles */
}
.hero-post--large time { /* Style time if included in partial */
    display: block;
    font-size: 0.85rem;
    color: var(--color-text-light);
    margin-top: calc(var(--spacing-unit) * 0.5);
}

/* Fallback for single featured post */
.featured-single {
    margin-bottom: var(--hero-gap);
}
/* Use .hero-post--large styles for the single featured item */
.featured-single .hero-post--large {
   max-width: 70%; /* Example: Make it prominent but not full width */
   margin-left: auto;
   margin-right: auto;
}


/* Horizontal Separator Line below Hero */
hr.hero-separator {
  border: none;
  border-top: 1px solid var(--color-light-gray); /* Use theme color */
  margin-top: 0; /* Remove default margin */
  margin-bottom: var(--grid-gap); /* Space below the line, align with grid gap */
}

/* ========================================================== */
/* END: Hero Section Layout Styles                            */
/* ========================================================== */


/* --- Post Grid Styling (Homepage - Renamed from .post-list) --- */
/* Use the class from your updated index.njk */
.post-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Responsive grid */
  gap: var(--grid-gap); /* Use defined gap variable */
  /* Removed margin-top, spacing is now handled by hr.hero-separator */
}

/* Keep your detailed .post-preview styles as they are likely rendered by your partial */
.post-preview {
  background-color: var(--color-background); /* Or var(--color-light-gray) for contrast */
  border: 1px solid var(--color-light-gray);
  border-radius: 8px;
  overflow: hidden; /* Keep image corners rounded */
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

.post-preview:hover {
  transform: translateY(-5px); /* Subtle lift effect */
  box-shadow: 0 4px 15px rgba(0,0,0,0.1); /* Add shadow on hover */
}

/* This class seems intended for the link wrapping the card content in your partial */
.post-preview__link {
    display: block; /* Make the whole card clickable */
    color: inherit; /* Inherit text color from parent */
    text-decoration: none; /* Remove underline from link */
}


.post-preview__image-container {
    aspect-ratio: 16 / 10; /* Adjust ratio */
    overflow: hidden;
    background-color: var(--color-light-gray);
}

.post-preview__image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.post-preview:hover .post-preview__image {
    transform: scale(1.05);
}


.post-preview__content {
  padding: var(--spacing-unit) calc(var(--spacing-unit) * 1.5);
}

.post-preview__title {
  font-size: 1.25em;
  margin-top: 0;
  margin-bottom: calc(var(--spacing-unit) * 0.5);
  color: var(--color-primary);
}

.post-preview__excerpt {
    font-size: 0.95em;
    color: var(--color-text-light);
    margin-bottom: calc(var(--spacing-unit) * 0.75);
    /* Optional: Limit excerpt lines */
    /* display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden; */
}


.post-preview__date {
  font-size: 0.85em;
  color: var(--color-text-light);
  display: block;
  margin-top: calc(var(--spacing-unit) * 0.5);
}


/* --- Individual Post Styling (Single Post Page) --- */
.post-content {
    max-width: 750px; /* Narrower width for better text readability */
    margin: calc(var(--spacing-unit) * 2) auto; /* Center post content area */
}

.post-content img {
    margin-top: var(--spacing-unit);
    margin-bottom: var(--spacing-unit);
    border-radius: 4px; /* Optional: slight rounding on content images */
}

.post-content h1 { /* Title on the post page */
    font-size: 2.5em; /* Larger title for single posts */
    margin-bottom: calc(var(--spacing-unit) * 0.25);
}

.post-meta { /* Container for date/author below title */
    color: var(--color-text-light);
    margin-bottom: calc(var(--spacing-unit) * 2);
    font-size: 0.9em;
}

/* Add styles for blockquotes, code blocks etc. inside .post-content as needed */
/* Example: */
/* .post-content blockquote {
    border-left: 4px solid var(--color-accent);
    padding-left: var(--spacing-unit);
    margin-left: 0;
    font-style: italic;
    color: var(--color-text-light);
} */

/* .post-content pre {
    background-color: var(--color-light-gray);
    padding: var(--spacing-unit);
    overflow-x: auto;
    border-radius: 4px;
} */

/* --- Graph Styling (Add specific selectors based on your graph HTML) --- */
.dosing-data-graph {
  margin-top: calc(var(--spacing-unit) * 1.5);
  margin-bottom: calc(var(--spacing-unit) * 1.5);
  border: 1px solid var(--color-light-gray);
  padding: var(--spacing-unit);
  background-color: #f9f9f9; /* Optional: Slightly different background */
  border-radius: 4px;
}

/* Example styles assuming SVG graphs */
.dosing-data-graph .bar {
    fill: var(--color-secondary);
}
.dosing-data-graph .bar:hover {
    fill: var(--color-accent);
}
.dosing-data-graph .axis {
    stroke: var(--color-text-light);
    stroke-width: 1px;
}
.dosing-data-graph .axis-label,
.dosing-data-graph .tick-label {
    fill: var(--color-text);
    font-family: var(--font-primary);
    font-size: 0.8em;
}
.dosing-data-graph .graph-line {
    stroke: var(--color-accent);
    stroke-width: 2px;
    fill: none;
}
.dosing-data-graph .tooltip {
    background-color: var(--color-primary);
    color: var(--color-background);
    padding: calc(var(--spacing-unit) * 0.5);
    border-radius: 4px;
    font-size: 0.9em;
}

/* --- Responsive adjustments for Hero Layout --- */
@media (max-width: 900px) { /* Adjust breakpoint as needed */
    .hero-layout {
      /* Stack columns on smaller screens */
      grid-template-columns: 1fr; /* Single column */
    }

    .hero-layout__left,
    .hero-layout__right {
      grid-column: auto; /* Reset column span */
      /* Arrange side posts horizontally if desired */
      flex-direction: row;
    }
    .hero-layout__left > .hero-post,
    .hero-layout__right > .hero-post {
        flex: 1 1 50%; /* Allow two side posts per row */
    }

    .hero-layout__center {
      grid-column: auto; /* Reset column span */
      grid-row: 1 / 2; /* Move featured post to the top */
      padding-left: 0; /* Remove padding for borders */
      padding-right: 0;
    }

    /* Hide vertical separator lines on small screens */
    .hero-layout__center::before,
    .hero-layout__center::after {
      display: none;
    }

    .featured-single .hero-post--large {
      max-width: 100%; /* Allow single featured post to be full width */
   }
}

@media (max-width: 600px) { /* Further adjustments for very small screens */
    .hero-layout__left,
    .hero-layout__right {
      flex-direction: column; /* Stack side posts vertically again */
    }
    .hero-layout__left > .hero-post,
    .hero-layout__right > .hero-post {
        flex-basis: auto; /* Reset flex basis */
    }

    /* Adjust grid columns for remaining posts */
    .post-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }
}